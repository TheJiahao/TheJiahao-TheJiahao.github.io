{{- $video_src := .Get "src" | default (.Get 0) -}}
{{- $video_file := (.Page.Resources.GetMatch (printf "%s" $video_src)) -}}


<div class="video-wrapper">
    <video
        controls
        src="{{- $video_file.RelPermalink -}}"
        {{ with .Get "poster" }}poster="{{- . -}}"{{ end }}
        {{ with .Get "autoplay" }}autoplay{{ end }}
    >
        <p>
            Your browser doesn't support HTML5 video. Here is a
            <a href="{{- $video_file.RelPermalink -}}">link to the video</a>
            instead.
        </p>
    </video>
</div>
