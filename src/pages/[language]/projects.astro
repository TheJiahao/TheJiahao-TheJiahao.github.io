---
import CardList from "components/organisms/CardList";
import { DEFAULT_LANGUAGE, PROJECTS } from "config";
import ContentLayout from "layouts/ContentLayout.astro";
import NavigationBarLayout from "layouts/NavigationBarLayout.astro";
import { languageCodes } from "localization";
import { getTranslation } from "utils/getTranslation";

export function getStaticPaths() {
    return languageCodes.map((language) => ({
        params: { language },
    }));
}

const language = Astro.currentLocale ?? DEFAULT_LANGUAGE;
const title = getTranslation(language).projects;
const projects = PROJECTS[language];
---

<NavigationBarLayout {title}>
    <ContentLayout>
        <CardList
            cards={projects}
            aria-label={getTranslation(language).projects}
        />
    </ContentLayout>
</NavigationBarLayout>
